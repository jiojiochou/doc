{"remainingRequest":"C:\\Users\\三岁大佬梦\\Desktop\\vuepress-starter\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\三岁大佬梦\\Desktop\\vuepress-starter\\node_modules\\vuepress-theme-reco\\components\\Common.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\三岁大佬梦\\Desktop\\vuepress-starter\\node_modules\\vuepress-theme-reco\\components\\Common.vue","mtime":1654332655773},{"path":"C:\\Users\\三岁大佬梦\\Desktop\\vuepress-starter\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654321887059},{"path":"C:\\Users\\三岁大佬梦\\Desktop\\vuepress-starter\\node_modules\\babel-loader\\lib\\index.js","mtime":1654321886797},{"path":"C:\\Users\\三岁大佬梦\\Desktop\\vuepress-starter\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654321887059},{"path":"C:\\Users\\三岁大佬梦\\Desktop\\vuepress-starter\\node_modules\\vue-loader\\lib\\index.js","mtime":1654321894715}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCwgY29tcHV0ZWQsIHJlZiwgb25Nb3VudGVkLCB0b1JlZnMgfSBmcm9tICd2dWUtZGVtaScKaW1wb3J0IE5hdmJhciBmcm9tICdAdGhlbWUvY29tcG9uZW50cy9OYXZiYXInCmltcG9ydCBTaWRlYmFyIGZyb20gJ0B0aGVtZS9jb21wb25lbnRzL1NpZGViYXInCmltcG9ydCBQZXJzb25hbEluZm8gZnJvbSAnQHRoZW1lL2NvbXBvbmVudHMvUGVyc29uYWxJbmZvJwppbXBvcnQgUGFzc3dvcmQgZnJvbSAnQHRoZW1lL2NvbXBvbmVudHMvUGFzc3dvcmQnCmltcG9ydCB7IHNldFRpbWVvdXQgfSBmcm9tICd0aW1lcnMnCmltcG9ydCB7IHVzZUluc3RhbmNlIH0gZnJvbSAnQHRoZW1lL2hlbHBlcnMvY29tcG9zYWJsZScKCmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbXBvbmVudCh7CiAgY29tcG9uZW50czogeyBTaWRlYmFyLCBOYXZiYXIsIFBhc3N3b3JkLCBQZXJzb25hbEluZm8gfSwKCiAgcHJvcHM6IHsKICAgIHNpZGViYXI6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIHNpZGViYXJJdGVtczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogKCkgPT4gW10KICAgIH0sCiAgICBzaG93TW9kdWxlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9CiAgfSwKCiAgc2V0dXAgKHByb3BzLCBjdHgpIHsKICAgIGNvbnN0IGluc3RhbmNlID0gdXNlSW5zdGFuY2UoKQoKICAgIGNvbnN0IGlzU2lkZWJhck9wZW4gPSByZWYoZmFsc2UpCiAgICBjb25zdCBpc0hhc0tleSA9IHJlZih0cnVlKQogICAgY29uc3QgaXNIYXNQYWdlS2V5ID0gcmVmKHRydWUpCiAgICBjb25zdCBmaXJzdExvYWQgPSByZWYodHJ1ZSkKCiAgICBjb25zdCBzaG91bGRTaG93U2lkZWJhciA9IGNvbXB1dGVkKCgpID0+IHByb3BzLnNpZGViYXJJdGVtcy5sZW5ndGggPiAwKQogICAgY29uc3QgYWJzb2x1dGVFbmNyeXB0aW9uID0gY29tcHV0ZWQoKCkgPT4gewogICAgICByZXR1cm4gaW5zdGFuY2UuJHRoZW1lQ29uZmlnLmtleVBhZ2UgJiYgaW5zdGFuY2UuJHRoZW1lQ29uZmlnLmtleVBhZ2UuYWJzb2x1dGVFbmNyeXB0aW9uID09PSB0cnVlCiAgICB9KQogICAgY29uc3Qgc2hvdWxkU2hvd05hdmJhciA9IGNvbXB1dGVkKCgpID0+IHsKICAgICAgY29uc3QgeyB0aGVtZUNvbmZpZyB9ID0gaW5zdGFuY2UuJHNpdGUKICAgICAgY29uc3QgeyBmcm9udG1hdHRlciB9ID0gaW5zdGFuY2UuJHBhZ2UKCiAgICAgIGlmICgKICAgICAgICBmcm9udG1hdHRlci5uYXZiYXIgPT09IGZhbHNlIHx8CiAgICAgICAgdGhlbWVDb25maWcubmF2YmFyID09PSBmYWxzZQogICAgICApIHJldHVybiBmYWxzZQoKICAgICAgcmV0dXJuICgKICAgICAgICBpbnN0YW5jZS4kdGl0bGUgfHwKICAgICAgICB0aGVtZUNvbmZpZy5sb2dvIHx8CiAgICAgICAgdGhlbWVDb25maWcucmVwbyB8fAogICAgICAgIHRoZW1lQ29uZmlnLm5hdiB8fAogICAgICAgIGluc3RhbmNlLiR0aGVtZUxvY2FsZUNvbmZpZy5uYXYKICAgICAgKQogICAgfSkKCiAgICBjb25zdCBwYWdlQ2xhc3NlcyA9IGNvbXB1dGVkKCgpID0+IHsKICAgICAgY29uc3QgY2xhc3NWYWx1ZSA9IHsKICAgICAgICAnbm8tbmF2YmFyJzogIXNob3VsZFNob3dOYXZiYXIudmFsdWUsCiAgICAgICAgJ3NpZGViYXItb3Blbic6IGlzU2lkZWJhck9wZW4udmFsdWUsCiAgICAgICAgJ25vLXNpZGViYXInOiAhc2hvdWxkU2hvd1NpZGViYXIudmFsdWUKICAgICAgfQoKICAgICAgY29uc3QgeyBwYWdlQ2xhc3M6IHVzZXJQYWdlQ2xhc3MgfSA9IGluc3RhbmNlLiRmcm9udG1hdHRlciB8fCB7fQogICAgICBpZiAodXNlclBhZ2VDbGFzcykgY2xhc3NWYWx1ZVt1c2VyUGFnZUNsYXNzXSA9IHRydWUKCiAgICAgIHJldHVybiBjbGFzc1ZhbHVlCiAgICB9KQoKICAgIGNvbnN0IGhhc0tleSA9ICgpID0+IHsKICAgICAgY29uc3QgeyBrZXlQYWdlIH0gPSBpbnN0YW5jZS4kdGhlbWVDb25maWcKICAgICAgaWYgKCFrZXlQYWdlIHx8ICFrZXlQYWdlLmtleXMgfHwga2V5UGFnZS5rZXlzLmxlbmd0aCA9PT0gMCkgewogICAgICAgIGlzSGFzS2V5LnZhbHVlID0gdHJ1ZQogICAgICAgIHJldHVybgogICAgICB9CgogICAgICBsZXQgeyBrZXlzIH0gPSBrZXlQYWdlCiAgICAgIGtleXMgPSBrZXlzLm1hcChpdGVtID0+IGl0ZW0udG9Mb3dlckNhc2UoKSkKICAgICAgaXNIYXNLZXkudmFsdWUgPSBrZXlzICYmIGtleXMuaW5kZXhPZihzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdrZXknKSkgPiAtMQogICAgfQogICAgY29uc3QgaW5pdFJvdXRlckhhbmRsZXIgPSAoKSA9PiB7CiAgICAgIGluc3RhbmNlLiRyb3V0ZXIuYWZ0ZXJFYWNoKCgpID0+IHsKICAgICAgICBpc1NpZGViYXJPcGVuLnZhbHVlID0gZmFsc2UKICAgICAgfSkKICAgIH0KICAgIGNvbnN0IGhhc1BhZ2VLZXkgPSAoKSA9PiB7CiAgICAgIGxldCBwYWdlS2V5cyA9IGluc3RhbmNlLiRmcm9udG1hdHRlci5rZXlzCiAgICAgIGlmICghcGFnZUtleXMgfHwgcGFnZUtleXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgaXNIYXNQYWdlS2V5LnZhbHVlID0gdHJ1ZQogICAgICAgIHJldHVybgogICAgICB9CgogICAgICBwYWdlS2V5cyA9IHBhZ2VLZXlzLm1hcChpdGVtID0+IGl0ZW0udG9Mb3dlckNhc2UoKSkKCiAgICAgIGlzSGFzUGFnZUtleS52YWx1ZSA9IHBhZ2VLZXlzLmluZGV4T2Yoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShgcGFnZUtleSR7d2luZG93LmxvY2F0aW9uLnBhdGhuYW1lfWApKSA+IC0xCiAgICB9CiAgICBjb25zdCB0b2dnbGVTaWRlYmFyID0gKHRvKSA9PiB7CiAgICAgIGlzU2lkZWJhck9wZW4udmFsdWUgPSB0eXBlb2YgdG8gPT09ICdib29sZWFuJyA/IHRvIDogIWlzU2lkZWJhck9wZW4udmFsdWUKICAgIH0KICAgIGNvbnN0IGhhbmRsZUxvYWRpbmcgPSAoKSA9PiB7CiAgICAgIGNvbnN0IHRpbWUgPSBpbnN0YW5jZS4kZnJvbnRtYXR0ZXIuaG9tZSAmJiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdmaXJzdExvYWQnKSA9PSB1bmRlZmluZWQgPyAxMDAwIDogMAogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICBmaXJzdExvYWQudmFsdWUgPSBmYWxzZQogICAgICAgIGlmIChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdmaXJzdExvYWQnKSA9PSB1bmRlZmluZWQpIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2ZpcnN0TG9hZCcsIGZhbHNlKQogICAgICB9LCB0aW1lKQogICAgfQoKICAgIC8vIOmmluasoea4suafk+aXtu+8jHJlY29TaG93TW9kdWxlIOebtOaOpeS4uiB0cnVl77yM5ZCm5YiZ6ZSa54K55aSx5pWICiAgICBjb25zdCB7IHNob3dNb2R1bGUgfSA9IHRvUmVmcyhwcm9wcykKICAgIGNvbnN0IHJlY29TaG93TW9kdWxlID0gY29tcHV0ZWQoKCkgPT4gewogICAgICBpZiAoZmlyc3RMb2FkLnZhbHVlKSB7CiAgICAgICAgcmV0dXJuIHRydWUKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gc2hvd01vZHVsZS52YWx1ZQogICAgICB9CiAgICB9KQoKICAgIG9uTW91bnRlZCgoKSA9PiB7CiAgICAgIGluaXRSb3V0ZXJIYW5kbGVyKCkKICAgICAgaGFzS2V5KCkKICAgICAgaGFzUGFnZUtleSgpCiAgICAgIGhhbmRsZUxvYWRpbmcoKQogICAgfSkKCiAgICByZXR1cm4geyBpc1NpZGViYXJPcGVuLCBhYnNvbHV0ZUVuY3J5cHRpb24sIHNob3VsZFNob3dOYXZiYXIsIHNob3VsZFNob3dTaWRlYmFyLCBwYWdlQ2xhc3NlcywgaGFzS2V5LCBoYXNQYWdlS2V5LCBpc0hhc0tleSwgaXNIYXNQYWdlS2V5LCB0b2dnbGVTaWRlYmFyLCBmaXJzdExvYWQsIHJlY29TaG93TW9kdWxlIH0KICB9LAoKICB3YXRjaDogewogICAgJGZyb250bWF0dGVyIChuZXdWYWwsIG9sZFZhbCkgewogICAgICB0aGlzLmhhc0tleSgpCiAgICAgIHRoaXMuaGFzUGFnZUtleSgpCiAgICB9CiAgfQp9KQo="},{"version":3,"sources":["Common.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Common.vue","sourceRoot":"node_modules/vuepress-theme-reco/components","sourcesContent":["<template>\n  <div class=\"theme-container\" :class=\"pageClasses\">\n    <div v-if=\"!absoluteEncryption\">\n      <transition name=\"fade\">\n        <Password v-show=\"!firstLoad && !isHasKey\" class=\"password-wrapper-out\" key=\"out\" />\n      </transition>\n\n      <div :class=\"{ 'hide': firstLoad || !isHasKey }\">\n        <Navbar v-if=\"shouldShowNavbar\" @toggle-sidebar=\"toggleSidebar\" />\n\n        <div class=\"sidebar-mask\" @click=\"toggleSidebar(false)\"></div>\n\n        <Sidebar :items=\"sidebarItems\" @toggle-sidebar=\"toggleSidebar\">\n          <PersonalInfo slot=\"top\" />\n          <slot name=\"sidebar-bottom\" slot=\"bottom\"/>\n        </Sidebar>\n\n        <Password v-show=\"!isHasPageKey\" :isPage=\"true\" class=\"password-wrapper-in\" key=\"in\"></Password>\n        <div :class=\"{ 'hide': !isHasPageKey }\">\n          <slot></slot>\n        </div>\n      </div>\n    </div>\n    <div v-else>\n      <transition name=\"fade\">\n        <Password v-if=\"!isHasKey\" />\n        <div v-else>\n          <Navbar v-if=\"shouldShowNavbar\" @toggle-sidebar=\"toggleSidebar\"/>\n\n          <div class=\"sidebar-mask\" @click=\"toggleSidebar(false)\"></div>\n\n          <Sidebar :items=\"sidebarItems\" @toggle-sidebar=\"toggleSidebar\">\n            <PersonalInfo slot=\"top\" />\n            <slot name=\"sidebar-bottom\" slot=\"bottom\"/>\n          </Sidebar>\n\n          <Password v-if=\"!isHasPageKey\" :isPage=\"true\"></Password>\n          <slot v-else></slot>\n        </div>\n      </transition>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { defineComponent, computed, ref, onMounted, toRefs } from 'vue-demi'\nimport Navbar from '@theme/components/Navbar'\nimport Sidebar from '@theme/components/Sidebar'\nimport PersonalInfo from '@theme/components/PersonalInfo'\nimport Password from '@theme/components/Password'\nimport { setTimeout } from 'timers'\nimport { useInstance } from '@theme/helpers/composable'\n\nexport default defineComponent({\n  components: { Sidebar, Navbar, Password, PersonalInfo },\n\n  props: {\n    sidebar: {\n      type: Boolean,\n      default: true\n    },\n    sidebarItems: {\n      type: Array,\n      default: () => []\n    },\n    showModule: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  setup (props, ctx) {\n    const instance = useInstance()\n\n    const isSidebarOpen = ref(false)\n    const isHasKey = ref(true)\n    const isHasPageKey = ref(true)\n    const firstLoad = ref(true)\n\n    const shouldShowSidebar = computed(() => props.sidebarItems.length > 0)\n    const absoluteEncryption = computed(() => {\n      return instance.$themeConfig.keyPage && instance.$themeConfig.keyPage.absoluteEncryption === true\n    })\n    const shouldShowNavbar = computed(() => {\n      const { themeConfig } = instance.$site\n      const { frontmatter } = instance.$page\n\n      if (\n        frontmatter.navbar === false ||\n        themeConfig.navbar === false\n      ) return false\n\n      return (\n        instance.$title ||\n        themeConfig.logo ||\n        themeConfig.repo ||\n        themeConfig.nav ||\n        instance.$themeLocaleConfig.nav\n      )\n    })\n\n    const pageClasses = computed(() => {\n      const classValue = {\n        'no-navbar': !shouldShowNavbar.value,\n        'sidebar-open': isSidebarOpen.value,\n        'no-sidebar': !shouldShowSidebar.value\n      }\n\n      const { pageClass: userPageClass } = instance.$frontmatter || {}\n      if (userPageClass) classValue[userPageClass] = true\n\n      return classValue\n    })\n\n    const hasKey = () => {\n      const { keyPage } = instance.$themeConfig\n      if (!keyPage || !keyPage.keys || keyPage.keys.length === 0) {\n        isHasKey.value = true\n        return\n      }\n\n      let { keys } = keyPage\n      keys = keys.map(item => item.toLowerCase())\n      isHasKey.value = keys && keys.indexOf(sessionStorage.getItem('key')) > -1\n    }\n    const initRouterHandler = () => {\n      instance.$router.afterEach(() => {\n        isSidebarOpen.value = false\n      })\n    }\n    const hasPageKey = () => {\n      let pageKeys = instance.$frontmatter.keys\n      if (!pageKeys || pageKeys.length === 0) {\n        isHasPageKey.value = true\n        return\n      }\n\n      pageKeys = pageKeys.map(item => item.toLowerCase())\n\n      isHasPageKey.value = pageKeys.indexOf(sessionStorage.getItem(`pageKey${window.location.pathname}`)) > -1\n    }\n    const toggleSidebar = (to) => {\n      isSidebarOpen.value = typeof to === 'boolean' ? to : !isSidebarOpen.value\n    }\n    const handleLoading = () => {\n      const time = instance.$frontmatter.home && sessionStorage.getItem('firstLoad') == undefined ? 1000 : 0\n      setTimeout(() => {\n        firstLoad.value = false\n        if (sessionStorage.getItem('firstLoad') == undefined) sessionStorage.setItem('firstLoad', false)\n      }, time)\n    }\n\n    // 首次渲染时，recoShowModule 直接为 true，否则锚点失效\n    const { showModule } = toRefs(props)\n    const recoShowModule = computed(() => {\n      if (firstLoad.value) {\n        return true\n      } else {\n        return showModule.value\n      }\n    })\n\n    onMounted(() => {\n      initRouterHandler()\n      hasKey()\n      hasPageKey()\n      handleLoading()\n    })\n\n    return { isSidebarOpen, absoluteEncryption, shouldShowNavbar, shouldShowSidebar, pageClasses, hasKey, hasPageKey, isHasKey, isHasPageKey, toggleSidebar, firstLoad, recoShowModule }\n  },\n\n  watch: {\n    $frontmatter (newVal, oldVal) {\n      this.hasKey()\n      this.hasPageKey()\n    }\n  }\n})\n</script>\n\n<style lang=\"stylus\" scoped>\n.theme-container\n  .loading-wrapper\n    position absolute\n    z-index 22\n    top 0\n    bottom 0\n    left 0\n    right 0\n    margin auto\n  .password-wrapper-out\n    position absolute\n    z-index 21\n    top 0\n    bottom 0\n    left 0\n    right 0\n    margin auto\n  .password-wrapper-in\n    position absolute\n    z-index 8\n    top 0\n    bottom 0\n    left 0\n    right 0\n  .hide\n    height 100vh\n    overflow hidden\n    opacity 0\n\n.fade-enter-active, .fade-leave-active {\n  transition: opacity .5s ease-in-out .5s;\n}\n.fade-enter, .fade-leave-to /* .fade-leave-active below version 2.1.8 */ {\n  opacity: 0;\n}\n</style>\n"]}]}