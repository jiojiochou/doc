<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>vue3 | 陈醋</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/doc/assets/img/favicon.ico">
    <meta name="description" content="你我山巅自相逢">
    
    <link rel="preload" href="/doc/assets/css/0.styles.d899a516.css" as="style"><link rel="preload" href="/doc/assets/js/app.826cf5f7.js" as="script"><link rel="preload" href="/doc/assets/js/5.d27a33e4.js" as="script"><link rel="preload" href="/doc/assets/js/1.0ac3e11d.js" as="script"><link rel="preload" href="/doc/assets/js/10.1ffa8ad5.js" as="script"><link rel="prefetch" href="/doc/assets/js/11.2a2694a9.js"><link rel="prefetch" href="/doc/assets/js/12.b7285029.js"><link rel="prefetch" href="/doc/assets/js/13.8f8ba01e.js"><link rel="prefetch" href="/doc/assets/js/14.1e056739.js"><link rel="prefetch" href="/doc/assets/js/15.b1a5b9ac.js"><link rel="prefetch" href="/doc/assets/js/16.008a9570.js"><link rel="prefetch" href="/doc/assets/js/17.5f60b440.js"><link rel="prefetch" href="/doc/assets/js/18.0cb42ccb.js"><link rel="prefetch" href="/doc/assets/js/19.e6915ffb.js"><link rel="prefetch" href="/doc/assets/js/20.f4590e8c.js"><link rel="prefetch" href="/doc/assets/js/21.9860976f.js"><link rel="prefetch" href="/doc/assets/js/22.2982e289.js"><link rel="prefetch" href="/doc/assets/js/23.be002f6c.js"><link rel="prefetch" href="/doc/assets/js/24.43ffbd51.js"><link rel="prefetch" href="/doc/assets/js/25.8dee8a71.js"><link rel="prefetch" href="/doc/assets/js/4.af6e89ce.js"><link rel="prefetch" href="/doc/assets/js/6.277b0db9.js"><link rel="prefetch" href="/doc/assets/js/7.8f94d8b1.js"><link rel="prefetch" href="/doc/assets/js/8.c4115c78.js"><link rel="prefetch" href="/doc/assets/js/9.38006ac9.js"><link rel="prefetch" href="/doc/assets/js/vendors~docsearch.f6438607.js">
    <link rel="stylesheet" href="/doc/assets/css/0.styles.d899a516.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-130b300a><div data-v-130b300a><div class="password-shadow password-wrapper-out" style="display:none;" data-v-25ba6db2 data-v-130b300a data-v-130b300a><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>陈醋</h3> <p class="description" data-v-25ba6db2 data-v-25ba6db2>你我山巅自相逢</p> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><!---->
            
          <!---->
          2023
        </a></span></div></div> <div class="hide" data-v-130b300a><header class="navbar" data-v-130b300a><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/doc/" class="home-link router-link-active"><img src="/doc/assets/img/logo.jpg" alt="陈醋" class="logo"> <span class="site-name">陈醋</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/doc/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      前端文档
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/doc/html&amp;css/html&amp;css.html" class="nav-link"><i class="undefined"></i>
  Html&amp;CSS
</a></li><li class="dropdown-item"><!----> <a href="/doc/javascript/javascript.html" class="nav-link"><i class="undefined"></i>
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/doc/DOM&amp;BOM&amp;JSON/DOM&amp;BOM&amp;JSON.html" class="nav-link"><i class="undefined"></i>
  DOM&amp;BOM&amp;JSON
</a></li><li class="dropdown-item"><!----> <a href="/doc/jsAdvanced/jsAdvanced.html" class="nav-link"><i class="undefined"></i>
  JavaScript高级
</a></li><li class="dropdown-item"><!----> <a href="/doc/TypeScript/TypeScript.html" class="nav-link"><i class="undefined"></i>
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/doc/typescriptEssay/Ts.html" class="nav-link"><i class="undefined"></i>
  typescript随记
</a></li><li class="dropdown-item"><!----> <a href="/doc/engineering/engineering.html" class="nav-link"><i class="undefined"></i>
  工程化
</a></li><li class="dropdown-item"><!----> <a href="/doc/nodejs/secretScript.html" class="nav-link"><i class="undefined"></i>
  nodejs
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      Go
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/doc/Go/Go.html" class="nav-link"><i class="undefined"></i>
  Go基本语法
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      框架
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/doc/vue/vue3.html" aria-current="page" class="nav-link router-link-exact-active router-link-active"><i class="undefined"></i>
  vue
</a></li><li class="dropdown-item"><!----> <a href="/doc/react/react.html" class="nav-link"><i class="undefined"></i>
  react
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      草稿
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/doc/vueJottings/vueJottings.html" class="nav-link"><i class="undefined"></i>
  vue草稿
</a></li><li class="dropdown-item"><!----> <a href="/doc/businessCase/example.html" class="nav-link"><i class="undefined"></i>
  业务实例
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      干货
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/doc/dryGoods/dryGoods.html" class="nav-link"><i class="undefined"></i>
  HTTP
</a></li></ul></div></div><div class="nav-item"><a href="https://gitee.com/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-130b300a></div> <aside class="sidebar" data-v-130b300a><div class="personal-info-wrapper" data-v-39576ba9 data-v-130b300a><img src="/doc/assets/img/logo.jpg" alt="author-avatar" class="personal-img" data-v-39576ba9> <!----> <div class="num" data-v-39576ba9><div data-v-39576ba9><h3 data-v-39576ba9>14</h3> <h6 data-v-39576ba9>Articles</h6></div> <div data-v-39576ba9><h3 data-v-39576ba9>0</h3> <h6 data-v-39576ba9>Tags</h6></div></div> <ul class="social-links" data-v-39576ba9></ul> <hr data-v-39576ba9></div> <nav class="nav-links"><div class="nav-item"><a href="/doc/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      前端文档
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/doc/html&amp;css/html&amp;css.html" class="nav-link"><i class="undefined"></i>
  Html&amp;CSS
</a></li><li class="dropdown-item"><!----> <a href="/doc/javascript/javascript.html" class="nav-link"><i class="undefined"></i>
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/doc/DOM&amp;BOM&amp;JSON/DOM&amp;BOM&amp;JSON.html" class="nav-link"><i class="undefined"></i>
  DOM&amp;BOM&amp;JSON
</a></li><li class="dropdown-item"><!----> <a href="/doc/jsAdvanced/jsAdvanced.html" class="nav-link"><i class="undefined"></i>
  JavaScript高级
</a></li><li class="dropdown-item"><!----> <a href="/doc/TypeScript/TypeScript.html" class="nav-link"><i class="undefined"></i>
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/doc/typescriptEssay/Ts.html" class="nav-link"><i class="undefined"></i>
  typescript随记
</a></li><li class="dropdown-item"><!----> <a href="/doc/engineering/engineering.html" class="nav-link"><i class="undefined"></i>
  工程化
</a></li><li class="dropdown-item"><!----> <a href="/doc/nodejs/secretScript.html" class="nav-link"><i class="undefined"></i>
  nodejs
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      Go
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/doc/Go/Go.html" class="nav-link"><i class="undefined"></i>
  Go基本语法
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      框架
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/doc/vue/vue3.html" aria-current="page" class="nav-link router-link-exact-active router-link-active"><i class="undefined"></i>
  vue
</a></li><li class="dropdown-item"><!----> <a href="/doc/react/react.html" class="nav-link"><i class="undefined"></i>
  react
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      草稿
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/doc/vueJottings/vueJottings.html" class="nav-link"><i class="undefined"></i>
  vue草稿
</a></li><li class="dropdown-item"><!----> <a href="/doc/businessCase/example.html" class="nav-link"><i class="undefined"></i>
  业务实例
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      干货
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/doc/dryGoods/dryGoods.html" class="nav-link"><i class="undefined"></i>
  HTTP
</a></li></ul></div></div><div class="nav-item"><a href="https://gitee.com/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-25ba6db2 data-v-130b300a><h3 class="title" data-v-25ba6db2 data-v-25ba6db2></h3> <!----> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><!---->
            
          <!---->
          2023
        </a></span></div></div> <div data-v-130b300a><main class="page"><section><div class="page-title"><h1 class="title">vue3</h1> <div data-v-f875f3fc><!----> <!----> <!----> <!----></div></div> <div class="theme-reco-content content__default"><h1 id="vue3"><a href="#vue3" class="header-anchor">#</a> vue3</h1> <h2 id="mvvm模型"><a href="#mvvm模型" class="header-anchor">#</a> MVVM模型</h2> <blockquote><p><strong>mvc和mvvm都是一种软件的体系结构</strong></p></blockquote> <ul><li><p><strong><code>MVC</code></strong> 是Model - View - Controller的简称, 是在前期被使用非常多的框架的架构模式, 比如ios, 前端;</p> <p><img src="/doc/assets/img/image-20221031152047025.208a0bd0.png" alt="image-20221031152047025"></p></li> <li><p><strong><code>MVVM</code></strong> 是Model - View - ViewMdel的简称, 是目前非常流行的架构模式;</p></li></ul> <blockquote><p><strong>vue虽然并没有完全遵守MVVM的模式, 但是整个设计是受到它的启发的</strong></p></blockquote> <p><img src="/doc/assets/img/image-20221031152531693.8df9ea87.png" alt="image-20221031152531693"></p> <h2 id="数组更新检测"><a href="#数组更新检测" class="header-anchor">#</a> 数组更新检测</h2> <blockquote><p><strong>vue 将被侦听的数组的变更方法进行了包裹, 所以它们也将会触发视图更新</strong></p></blockquote> <blockquote><p><strong>push, pop, shift, unshift, splice, sort, reverse 这些方法去改变数组都会被侦听到, 然后去改变视图</strong></p></blockquote> <h2 id="vnode"><a href="#vnode" class="header-anchor">#</a> VNode</h2> <blockquote><p><strong>VNode的全称是Virtual Node, 也就是虚拟节点</strong></p> <p><strong>事实上, 无论是组件还是元素, 它们最终在Vue表示出来都是一个个VNode</strong></p> <p><strong>VNode的本质是一个javascript的对象, 这样有利于实现多端生成技术</strong></p></blockquote> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">font-size</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span> <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>hello world<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 会被抽象成js对象👇👇👇 --&gt;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> vnode <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'div'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token keyword">class</span><span class="token operator">:</span> <span class="token string">'title'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">style</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string-property property">'font-size'</span><span class="token operator">:</span> <span class="token string">'30px'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'red'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token string">'hello world'</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="组件通信-父传子"><a href="#组件通信-父传子" class="header-anchor">#</a> 组件通信-父传子</h2> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 通过 属性atrribute 传值 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>infos</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>zs<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:age</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>66<span class="token punctuation">&quot;</span></span> <span class="token attr-name">hobby</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>chouyan heijiu tangtou<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><blockquote><p><strong>注意点: props 可以限制父组件传过来的值类型以及设置默认值</strong></p></blockquote> <blockquote><p><strong>数组语法</strong></p> <p><strong>弊端: 不能设置值的类型, 不能设置默认值 👇👇👇</strong></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">,</span> <span class="token string">'hobby'</span><span class="token punctuation">]</span>
</code></pre></div><blockquote><p><strong>对象语法: 语法1 👇👇👇</strong></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">name</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
	<span class="token literal-property property">age</span><span class="token operator">:</span> Number<span class="token punctuation">,</span>
	<span class="token literal-property property">hobby</span><span class="token operator">:</span> String
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><strong>对象语法: 语法2 👇👇👇</strong></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">'bobodi'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// 是否是必传的值</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><strong>当设置为<code>对象类型</code> or <code>数组类型</code>的值时</strong></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">array</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Array<span class="token punctuation">,</span>
      <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// 通过函数 return 一个数组</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">obj</span><span class="token operator">:</span> <span class="token punctuation">{</span>
       <span class="token literal-property property">type</span><span class="token operator">:</span> Object<span class="token punctuation">,</span>
       <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'zs'</span><span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token comment">// 通过函数 return 一个对象</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><strong>没有被props接收的属性 会被添加到该组件的根元素身上 也会被添加到<code>$attrs</code>对象身上</strong></p> <p><strong>注意: 该组件呈现的是片段( 多个根节点 )没有被( 一个 )根节点包裹那么属性不会被添加到根元素且vue会报警告</strong></p></blockquote> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token comment">&lt;!-- 没有被props接收的属性 会被添加到该组件的根元素身上 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>infos</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ls<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:age</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>62<span class="token punctuation">&quot;</span></span> <span class="token attr-name">hobby</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>besktaboll<span class="token punctuation">&quot;</span></span> <span class="token attr-name">address</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>guangdong<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>infos</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ww<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:age</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>22<span class="token punctuation">&quot;</span></span> <span class="token attr-name">hobby</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>playPs4<span class="token punctuation">&quot;</span></span> <span class="token attr-name">address</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>beijing<span class="token punctuation">&quot;</span></span> <span class="token attr-name">aliss</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>jack<span class="token punctuation">&quot;</span></span> <span class="token attr-name">tel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>110<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><p><img src="data:image/png;base64,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" alt="image-20221105152158086"></p> <blockquote><p><strong>使用属性: inheritAttrs: false</strong></p> <p><strong>这样没有被props接收的属性也不会被添加到组件的根元素上</strong></p></blockquote> <h2 id="组件通信-子传父"><a href="#组件通信-子传父" class="header-anchor">#</a> 组件通信-子传父</h2> <blockquote><p><strong>模板上的语法👇👇👇</strong></p></blockquote> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>digit: {{ count }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>increment</span> <span class="token attr-name">@add</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleAdd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>increment</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>decrement</span> <span class="token attr-name">@sub</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleSub<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>decrement</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><blockquote><p><strong>script的逻辑表现👇👇👇</strong></p></blockquote> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> increment <span class="token keyword">from</span> <span class="token string">&quot;./components/increment.vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> decrement <span class="token keyword">from</span> <span class="token string">&quot;./components/decrement.vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    increment<span class="token punctuation">,</span>
    decrement<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">handleAdd</span><span class="token punctuation">(</span><span class="token parameter">digit</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">+=</span> digit
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">handleSub</span><span class="token punctuation">(</span><span class="token parameter">digit</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">-=</span> digit
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><blockquote><p><strong>子组件的逻辑表现👇👇👇</strong></p></blockquote> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btnAdd(1)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>+1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btnAdd(5)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>+5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btnAdd(10)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>+10<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">emits</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'add'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">btnAdd</span><span class="token punctuation">(</span><span class="token parameter">digit</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 使用 $emit 调用父组件的回调函数</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'add'</span><span class="token punctuation">,</span>digit<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="provide-inject"><a href="#provide-inject" class="header-anchor">#</a> provide&amp;inject</h2> <blockquote><p><strong>使用方法👇👇👇</strong></p> <p><strong>provide可以是个对象, 但是一般我们就像把<code>data</code>里面的值传给后代组件, 所以写成函数</strong></p></blockquote> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// 祖先组件提供数据</span>
  <span class="token function">provide</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>message
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><blockquote><p><strong>任何后代组件都可以接收到数据</strong></p></blockquote> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">inject</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'message'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="异步组件"><a href="#异步组件" class="header-anchor">#</a> 异步组件</h2> <blockquote><p><strong>使用<code>defineAsyncComponent()</code>函数定义异步组件</strong></p> <p><strong>作用: 打包时会进行分包, 减小app.js的大小</strong></p></blockquote> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineAsyncComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">const</span> asyncFoo <span class="token operator">=</span> <span class="token function">defineAsyncComponent</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'./foo.vue'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">foo</span><span class="token operator">:</span> asyncFoo
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><blockquote><p><strong>异步组件的写法二👇👇👇</strong></p></blockquote> <p><img src="/doc/assets/img/image-20221106232120811.f8ced235.png" alt="image-20221106232120811"></p> <h2 id="组件的v-model"><a href="#组件的v-model" class="header-anchor">#</a> 组件的v-model</h2> <blockquote><p><strong>两者功能一样👇👇👇</strong></p></blockquote> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>foo</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>digit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>foo</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>foo</span> <span class="token attr-name">:modelValue</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>digit<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">@update:</span>modelValue</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>digit = $event<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>foo</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> foo <span class="token keyword">from</span> <span class="token string">&quot;./components/foo.vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span> foo <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">digit</span><span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><blockquote><p><strong>foo组件内部的表现👇👇👇</strong></p> <p><strong>使用props接收modelValue属性, 使用$emit改变digit的值</strong></p></blockquote> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>digit:{{ modelValue }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeModelValue<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">modelValue</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Number<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">changeModelValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'update:modelValue'</span><span class="token punctuation">,</span><span class="token number">999</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><blockquote><p><strong>v-model:自定义名字</strong></p> <p><strong>呈现为👉属性: v-bind:num=&quot;digit&quot;( :num=&quot;digit&quot; ), 事件: v-on:update:num( @update:num )</strong></p></blockquote> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>foo</span> <span class="token attr-name"><span class="token namespace">v-model:</span>num</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>digit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>foo</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="魔法注释"><a href="#魔法注释" class="header-anchor">#</a> 魔法注释</h2> <blockquote><p><strong>该注释会被webpack读取</strong></p> <p><strong>import引入的文件会被分包, 加上魔法注释<code>webpackChunkName:+${名字}</code>在构建时以此来命名</strong></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 魔法注释, 会被webpack读取</span>
<span class="token keyword">const</span> <span class="token function-variable function">home</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackChunkName: 'home' */</span><span class="token string">'../components/home.vue'</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="router"><a href="#router" class="header-anchor">#</a> router</h2> <blockquote><p><strong>字符串形式跳转路由: <code>'/${url}'</code></strong></p> <p><strong>对象形式跳转路由: { path: '/${url}' }</strong></p></blockquote> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span> <span class="token attr-name">active-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bbb<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span> |
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{path: <span class="token punctuation">'</span>/about<span class="token punctuation">'</span>}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">active-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bbb<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>About<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><blockquote><p><strong>active-class标签属性</strong></p> <p><strong>自定义router-link组件的class</strong></p></blockquote> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span> <span class="token attr-name">active-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>active<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span> |
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/about<span class="token punctuation">&quot;</span></span> <span class="token attr-name">active-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>active<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>About<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.active</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token property">font-weight</span><span class="token punctuation">:</span> 700<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><img src="data:image/png;base64,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" alt="image-20221109201744971"><img src="/doc/assets/img/image-20221109201838563.3961a875.png" alt="image-20221109201838563"></p> <blockquote><p><strong>routes属性的name属性</strong></p> <p><strong>一般独一无二, name重复可能会导致一些问题</strong></p> <p><strong>路由跳转时可以使用, 动态管理路由的时候, 通过name给某一个路由增加子路由</strong></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/about'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'about'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackChunkName: 'about' */</span><span class="token string">'../components/about.vue'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><strong>路由传参: params</strong></p> <p><strong>通过<code>router-link</code>标签的<code>to</code>属性传值👇👇👇</strong></p></blockquote> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/user/123<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>About<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><blockquote><p><strong>👆👆👆需要路由规则中的配置为👇👇👇</strong></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/user/:id'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'../components/user.vue'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><strong>如果传过来的参数需要在模板中使用👇👇👇</strong></p></blockquote> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>user: {{$route.params.id}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><blockquote><p><strong>如果传过来的参数需要在代码中使用👇👇👇</strong></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useRoute <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue-router&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> route <span class="token operator">=</span> <span class="token function">useRoute</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id
</code></pre></div><blockquote><p><strong>not found页面</strong></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/:pathMatch(.*)'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'../components/404.vue'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><strong>/:pathMatch(.*)*</strong></p> <p><strong>会把路径以<code>/</code>切割放进一个数组里面以便于我们后续的操作</strong></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/:pathMatch(.*)*'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'../components/404.vue'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><strong>模板里面使用👇👇👇</strong></p></blockquote> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>页面丢失: {{$route.params}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><img src="/doc/assets/img/image-20221109212031064.4456db2d.png" alt="image-20221109212031064"></p> <blockquote><p><strong>编程式导航</strong></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue-router&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">useRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 替换</span>
<span class="token keyword">function</span> <span class="token function">backHome</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  router<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 压栈</span>
<span class="token keyword">function</span> <span class="token function">backAbout</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/about'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><strong>对象参数写法👇👇👇</strong></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">backAbout</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/about'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><strong>对象写法携带参数👇👇👇</strong></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">backAbout</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/about'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">query</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'zs'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><strong>编程式导航: 回退一步</strong></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code>router<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p><strong>编程式导航: 向前一步</strong></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code>router<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p><strong>编程式导航: 任意步数</strong></p> <p><strong>注意: go(100)的话, 静默失败(相当于什么都没有帮你做), 没有那么多操作</strong></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code>router<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span>digit<span class="token punctuation">)</span>
<span class="token comment">// 向前一步</span>
router<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token comment">// 向后一步</span>
router<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token comment">// 向前100步</span>
router<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p><strong>动态添加路由</strong></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code>router<span class="token punctuation">.</span><span class="token function">addRoute</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/url'</span><span class="token punctuation">,</span> <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'./xxx.vue'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p><strong>删除路由</strong></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code>router<span class="token punctuation">.</span><span class="token function">removeRoute</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="路由守卫"><a href="#路由守卫" class="header-anchor">#</a> 路由守卫</h2> <blockquote><p><strong>全局前置守卫: <code>beforeEach</code></strong></p></blockquote> <h2 id="导航解析流程"><a href="#导航解析流程" class="header-anchor">#</a> 导航解析流程</h2> <p><img src="/doc/assets/img/image-20221110111235059.87e3a499.png" alt="image-20221110111235059"></p> <h2 id="vuex"><a href="#vuex" class="header-anchor">#</a> vuex</h2> <blockquote><p><strong>模板中使用vuex的state</strong></p></blockquote> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{{$store.state.count}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><blockquote><p><strong>compositionApi中使用</strong></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>
<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">useStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p><strong>mapState()</strong></p> <p><strong>就不用写$store.state.xxx</strong></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// optionsApi</span>
<span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">,</span> <span class="token string">'tel'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// 返回的是一个函数</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><strong>mutations</strong></p> <p><strong><code>state</code>中的属性想要修改需要使用<code>mutations</code>中定义的方法进行修改👇👇👇</strong></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vuex&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">state</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">99</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 自定义方法: 该方法第一个参数是state对象</span>
    <span class="token function">increment</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      state<span class="token punctuation">.</span>count<span class="token operator">++</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">decrement</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      state<span class="token punctuation">.</span>count<span class="token operator">--</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p><strong>在组件中使用<code>commit('mutations中的函数',payload)</code>调用<code>mutations</code>中的方法👇👇👇</strong></p></blockquote> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>vuex state:{{ $store.state.count }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>increment<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>让vuex的state里面的count: +1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>decrement<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>让vuex的state里面的count: -1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> useStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vuex&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">&quot;Home页面&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">useStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>store<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// store对象</span>
<span class="token keyword">function</span> <span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'increment'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">decrement</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'decrement'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><blockquote><p><strong>getter</strong></p> <p><strong>在模板中访问gettets</strong></p></blockquote> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>双倍的count: {{$store.getters.doubleCount}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><blockquote><p><strong>在setup中访问</strong></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vuex&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">useStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
store<span class="token punctuation">.</span>getters<span class="token punctuation">.</span>doubleCount
</code></pre></div><blockquote><p><strong>Getter 也可以接受其他 getter 作为第二个参数</strong></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">foo</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token string">'$'</span> <span class="token operator">+</span> state<span class="token punctuation">.</span>price
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">doubleCount</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span>getters</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> state<span class="token punctuation">.</span>count <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> getters<span class="token punctuation">.</span>foo
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="/doc/assets/img/image-20221110132856748.ebb152ef.png" alt="image-20221110132856748"></p> <blockquote><p><strong>actions</strong></p> <p><strong>可以在actions里面执行异步操作</strong></p></blockquote> <blockquote><p><strong>创建actions👇👇👇</strong></p> <p><strong>Action 函数接受一个与 store 实例具有相同方法和属性的 context 对象</strong></p> <p><strong>通过 <code>context.state</code> 和 <code>context.getters</code> 来获取 state 和 getters</strong></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">increment</span> <span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      context<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'increment'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><strong>在模板中调用actions中的函数</strong></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code>store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'increment'</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p><strong>给actions中的函数传值</strong></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code>store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'increment'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token number">10</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 以对象形式传值</span>
store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'incrementAsync'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token number">10</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p><strong>Module</strong></p></blockquote> <h2 id="pinia🍍"><a href="#pinia🍍" class="header-anchor">#</a> Pinia🍍</h2> <blockquote><p><strong>基本用法</strong></p> <p><strong>创建Pinia</strong></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createPinia <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;pinia&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createPinia</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> store
</code></pre></div><blockquote><p><strong>每一个文件就是一个模块</strong></p> <p>**<code>defineStore</code>函数, 第一个参数需要是唯一的id, **</p> <p><strong>第二个参数是对象👉{state,getters, actions}</strong></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;pinia&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> useCounter <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">'counter'</span><span class="token punctuation">,</span><span class="token punctuation">{</span> <span class="token comment">// 返回值是一个函数</span>
  <span class="token function-variable function">state</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">99</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> useCounter
</code></pre></div><blockquote><p><strong>在模板中使用</strong></p></blockquote> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>count: {{counterStore.count}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>increment<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> useCounter <span class="token keyword">from</span> <span class="token string">'@/stores/counter'</span><span class="token punctuation">;</span>
<span class="token comment">// 创建store</span>
<span class="token keyword">const</span> counterStore <span class="token operator">=</span> <span class="token function">useCounter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  counterStore<span class="token punctuation">.</span>count<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><blockquote><p><strong>一次性修改state里面的多个属性</strong></p></blockquote> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> useCounter <span class="token keyword">from</span> <span class="token string">'@/stores/counter'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> counterStore <span class="token operator">=</span> <span class="token function">useCounter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// counterStore.count = 666</span>
<span class="token comment">// counterStore.name = 'zs'</span>
<span class="token comment">// counterStore.age = 18</span>
<span class="token comment">// 使用它身上的方法</span>
counterStore<span class="token punctuation">.</span><span class="token function">$patch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">666</span><span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'zs'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><blockquote><p><strong>getters</strong></p></blockquote> <blockquote><p><strong>访问当前的store的getters</strong></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> counterStore <span class="token operator">=</span> <span class="token function">useCounter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>counterStore<span class="token punctuation">.</span>doubleCounter<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>counterStore<span class="token punctuation">.</span>fullname<span class="token punctuation">)</span>
</code></pre></div><blockquote><p><strong>getters中访问自己的其他getters</strong></p> <p><strong>我们可以通过this来访问到当前store实例的所有其他属性</strong></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">'counter'</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
    <span class="token function-variable function">state</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    	<span class="token literal-property property">counter</span><span class="token operator">:</span> <span class="token number">99</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    	<span class="token function-variable function">baz</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        	<span class="token keyword">return</span> state<span class="token punctuation">.</span>counter<span class="token operator">++</span>
    	<span class="token punctuation">}</span><span class="token punctuation">,</span>
    	<span class="token function-variable function">foo</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 使this访问getter的其他计算属性函数</span>
    		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>baz <span class="token operator">+</span> <span class="token number">1</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p><strong>访问其他store的getters</strong></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> useUser <span class="token keyword">from</span> <span class="token string">'@/store/user.js'</span>
<span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">bar</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">const</span> userStore <span class="token operator">=</span> <span class="token function">useUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">'~~~'</span> <span class="token operator">+</span> userStore<span class="token punctuation">.</span>name
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><strong>actions</strong></p></blockquote> <blockquote><p><strong>定义actions</strong></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">const</span> useStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">'main'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">state</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token operator">++</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">randomCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token number">100</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p><strong><code>actions</code> 可以是异步的</strong></p> <p><strong>你可以在它们里面 <code>await</code> 调用任何 API，以及其他 action</strong></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useUserStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@/store/user'</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> useSettingsStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">'settings'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">state</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token keyword">async</span> <span class="token function">fetchUserData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 引入其他store的 actions</span>
      <span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token function">useUserStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>user<span class="token punctuation">.</span>isadmin<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>data <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'User must be authenticated'</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="axios"><a href="#axios" class="header-anchor">#</a> axios</h2> <blockquote><p><strong>基本用法</strong></p> <p><strong>request请求, 没有指定请求方法, 默认是get请求</strong></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code>axios<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&quot;xxx&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p><strong>常见的配置选项</strong></p></blockquote> <p><img src="/doc/assets/img/image-20221111195544308.a0b37847.png" alt="image-20221111195544308"></p> <blockquote><p><strong>一次发送多个请求</strong></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code>axios<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'请求1'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">'请求2'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p><strong>创建实例</strong></p> <p><strong>应对不同的请求</strong></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> instance1 <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">timeout</span><span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span>
    <span class="token literal-property property">baseURL</span><span class="token operator">:</span> <span class="token string">'xxxx'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">header</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
instance1<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> instance2 <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">timeout</span><span class="token operator">:</span> <span class="token number">666</span><span class="token punctuation">,</span>
    <span class="token literal-property property">baseURL</span><span class="token operator">:</span> <span class="token string">'yyyy'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">header</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
instance2<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
instance2<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p><strong>请求和响应的拦截器</strong></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 请求的拦截器</span>
axios<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'请求成功的拦截'</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> config
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'请求失败的拦截'</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> err
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 响应的拦截器</span>
axios<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'响应成功的拦截'</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> res<span class="token punctuation">.</span>data
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'响应失败的拦截'</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> err
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></div></section> <footer class="page-edit"><!----> <!----></footer> <!----> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-cb1513f6><li class="level-2" data-v-cb1513f6><a href="/doc/vue/vue3.html#mvvm模型" class="sidebar-link reco-side-mvvm模型" data-v-cb1513f6>MVVM模型</a></li><li class="level-2" data-v-cb1513f6><a href="/doc/vue/vue3.html#数组更新检测" class="sidebar-link reco-side-数组更新检测" data-v-cb1513f6>数组更新检测</a></li><li class="level-2" data-v-cb1513f6><a href="/doc/vue/vue3.html#vnode" class="sidebar-link reco-side-vnode" data-v-cb1513f6>VNode</a></li><li class="level-2" data-v-cb1513f6><a href="/doc/vue/vue3.html#组件通信-父传子" class="sidebar-link reco-side-组件通信-父传子" data-v-cb1513f6>组件通信-父传子</a></li><li class="level-2" data-v-cb1513f6><a href="/doc/vue/vue3.html#组件通信-子传父" class="sidebar-link reco-side-组件通信-子传父" data-v-cb1513f6>组件通信-子传父</a></li><li class="level-2" data-v-cb1513f6><a href="/doc/vue/vue3.html#provide-inject" class="sidebar-link reco-side-provide-inject" data-v-cb1513f6>provide&amp;inject</a></li><li class="level-2" data-v-cb1513f6><a href="/doc/vue/vue3.html#异步组件" class="sidebar-link reco-side-异步组件" data-v-cb1513f6>异步组件</a></li><li class="level-2" data-v-cb1513f6><a href="/doc/vue/vue3.html#组件的v-model" class="sidebar-link reco-side-组件的v-model" data-v-cb1513f6>组件的v-model</a></li><li class="level-2" data-v-cb1513f6><a href="/doc/vue/vue3.html#魔法注释" class="sidebar-link reco-side-魔法注释" data-v-cb1513f6>魔法注释</a></li><li class="level-2" data-v-cb1513f6><a href="/doc/vue/vue3.html#router" class="sidebar-link reco-side-router" data-v-cb1513f6>router</a></li><li class="level-2" data-v-cb1513f6><a href="/doc/vue/vue3.html#路由守卫" class="sidebar-link reco-side-路由守卫" data-v-cb1513f6>路由守卫</a></li><li class="level-2" data-v-cb1513f6><a href="/doc/vue/vue3.html#导航解析流程" class="sidebar-link reco-side-导航解析流程" data-v-cb1513f6>导航解析流程</a></li><li class="level-2" data-v-cb1513f6><a href="/doc/vue/vue3.html#vuex" class="sidebar-link reco-side-vuex" data-v-cb1513f6>vuex</a></li><li class="level-2" data-v-cb1513f6><a href="/doc/vue/vue3.html#pinia🍍" class="sidebar-link reco-side-pinia🍍" data-v-cb1513f6>Pinia🍍</a></li><li class="level-2" data-v-cb1513f6><a href="/doc/vue/vue3.html#axios" class="sidebar-link reco-side-axios" data-v-cb1513f6>axios</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/doc/assets/js/app.826cf5f7.js" defer></script><script src="/doc/assets/js/5.d27a33e4.js" defer></script><script src="/doc/assets/js/1.0ac3e11d.js" defer></script><script src="/doc/assets/js/10.1ffa8ad5.js" defer></script>
  </body>
</html>
